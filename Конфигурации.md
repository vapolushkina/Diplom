### Terraform

```
....
....
....
....
....
```

---

### Ansible

`playbook`

```
---
- hosts: web
  become: true
  become_method: sudo
  become_user: root
  remote_user: admin
  roles:
   - role: nginx
   - role: node-exporter

- hosts: prom
  user: admin
  become: true
  become_method: sudo
  become_user: root
  roles:
    - role: prometheus

- hosts: grafana
  user: admin
  become: true
  become_method: sudo
  become_user: root
  roles:
    - role: grafana

- hosts: elastic
  user: admin
  become: true
  become_method: sudo
  become_user: root
  roles:
    - role: elastic

- hosts: kibana
  user: admin
  become: true
  become_method: sudo
  become_user: root
  roles:
    - role: kibana

- hosts: web
  become: true
  become_method: sudo
  become_user: root
  remote_user: admin
  roles:
   - role: filebeat

```

`nginx`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```

`node-exporter`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```

`prometheus`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```

`grafana`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```

`elasticsearch`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```

`filebeat`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```

`kibana`

*1. tasks*

```
....
....
....
....
....
```
*2. vars*

```
....
....
....
....
....
```
*3. static*

```
....
....
....
....
....
```
